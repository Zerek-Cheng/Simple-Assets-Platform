"use strict";(self["webpackChunkelement"]=self["webpackChunkelement"]||[]).push([[443],{9835:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var o=function(){var e=this,s=e._self._c;return s("el-row",[s("el-col",{attrs:{md:{span:16,push:4},xs:{span:22,push:1},id:"info"}},[s("PicInfo",{attrs:{pic:e.pic},on:{back:e.back}})],1)],1)},a=[];const r={props:["pic"],components:{PicInfo:()=>t.e(348).then(t.bind(t,9348))},name:"PicInfoView",methods:{back(){window.history.go(-1)}}},i=r;var n=t(3026),l=(0,n.Z)(i,o,a,!1,null,"b8b6d2fe",null);const c=l.exports},1588:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var o=function(){var e=this,s=e._self._c;return s("el-row",[s("el-col",{attrs:{md:{span:16,push:4},xs:{span:22,push:1}}},[s("el-card",{staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("h1",[e._v("图片上传")])]),this.user?e._e():s("el-alert",{attrs:{id:"login-warn",title:"未登录",type:"error",description:"只有登录后才能上传图片，点击上方按钮登录","show-icon":""}}),s("el-divider"),s("el-upload",{ref:"upload",staticClass:"upload",attrs:{disabled:!this.user,action:"/api/upload","list-type":"picture","file-list":e.files,limit:10,"auto-upload":!1,"with-credentials":!0,headers:{"X-XSRF-TOKEN":e.csrf},"on-success":e.onSuccess,"on-preview":e.onPreview,accept:".jpg,.jpeg,.png,.gif,.bmp,.webp,.svg,.tiff",drag:"",multiple:""}},[s("div",{staticClass:"el-upload__text"},[s("p",[s("i",{staticClass:"el-icon-upload"})]),e._v(" 将文件拖到此处，或"),s("em",[e._v("点击这里")])])]),this.user?s("el-button",{attrs:{type:"success",id:"confirm"},on:{click:function(s){return s.preventDefault(),s.stopPropagation(),e.confirmUpload.apply(null,arguments)}}},[e._v("确认上传")]):e._e()],1)],1)],1)},a=[],r=t(6294);const i={data:()=>({files:[]}),computed:{...(0,r.mapState)(["user","csrf"])},methods:{confirmUpload(){this.$refs.upload.submit()},onSuccess(e,s){-1===e.code&&(s.status="error",this.$message.error(e.message))},onPreview(e){e.response&&0===e.response.code&&window.open(this.$router.resolve({name:"pic-info",params:{pic:e.response.data.id}}).href)}}},n=i;var l=t(3026),c=(0,l.Z)(n,o,a,!1,null,"03253b24",null);const p=c.exports}}]);
//# sourceMappingURL=about-adaec324.js.map